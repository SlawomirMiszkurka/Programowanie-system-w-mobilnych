{"ast":null,"code":"import { firebaseApp } from '@/firebase';\nimport { createUserWithEmailAndPassword, getAuth } from 'firebase/auth';\nimport { doc, setDoc } from 'firebase/firestore';\nimport { ref } from 'vue';\nexport default {\n  __name: 'RegisterPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const email = ref('');\n    const password = ref('');\n    const nickname = ref('');\n    const yourCountry = ref('');\n    const contactCountry = ref('');\n    const language = ref('');\n    const birthdate = ref('');\n    const interests = ref('');\n    const moreInfo = ref('');\n    const countries = ref([]);\n    const selectedContactCountryLanguages = ref([]);\n    function register() {\n      const auth = getAuth(firebaseApp);\n      createUserWithEmailAndPassword(auth, email.value.value, password.value.value).then(({\n        user\n      }) => {\n        const db = getFirestore(firebaseApp);\n        const docRef = doc(db, \"users\", user.uid);\n        const userData = {\n          birthdate: birthdate.value.value,\n          contactCountry: contactCountry.value.value,\n          country: yourCountry.value.value,\n          email: email.value.value,\n          interests: interests.value.value,\n          language: language.value.value,\n          moreInfo: moreInfo.value.value,\n          nickname: nickname.value.value\n        };\n        setDoc(docRef, userData);\n      });\n    }\n    const __returned__ = {\n      email,\n      password,\n      nickname,\n      yourCountry,\n      contactCountry,\n      language,\n      birthdate,\n      interests,\n      moreInfo,\n      countries,\n      selectedContactCountryLanguages,\n      register,\n      get firebaseApp() {\n        return firebaseApp;\n      },\n      get createUserWithEmailAndPassword() {\n        return createUserWithEmailAndPassword;\n      },\n      get getAuth() {\n        return getAuth;\n      },\n      get doc() {\n        return doc;\n      },\n      get setDoc() {\n        return setDoc;\n      },\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["firebaseApp","createUserWithEmailAndPassword","getAuth","doc","setDoc","ref","email","password","nickname","yourCountry","contactCountry","language","birthdate","interests","moreInfo","countries","selectedContactCountryLanguages","register","auth","value","then","user","db","getFirestore","docRef","uid","userData","country"],"sources":["D:/UserData/Desktop/UEK/PSM/KKDP/psm-project/src/components/RegisterPage.vue"],"sourcesContent":["<template>\r\n        <h2>Rejestracja</h2>\r\n        <form @submit.prevent=\"register\">\r\n            <input type=\"text\" ref=\"email\" placeholder=\"E-mail\" required><br>\r\n            <input type=\"password\" ref=\"password\" placeholder=\"Hasło\" required><br>\r\n            <input type=\"text\" ref=\"nickname\" placeholder=\"Nick\" required>\r\n            <span id=\"nickname-error\" class=\"error-msg\"></span><br>\r\n            <select ref=\"yourCountry\">\r\n                <option value=\"\" selected disabled hidden>Kraj pochodzenia</option>\r\n                <option v-for=\"(yourCountry, index) in countries\" :key=\"index\" :value=\"yourCountry.name\">{{ yourCountry.name }}</option>\r\n            </select>\r\n            <select ref=\"contactCountry\">\r\n                <option value=\"\" selected disabled hidden>Kraj kontaktowy</option>\r\n                <option v-for=\"(contactCountry, index) in countries\" :key=\"index\" :value=\"contactCountry.name\">{{ contactCountry.name }}</option>\r\n            </select>\r\n            <select ref=\"language\">\r\n                <option value=\"\" selected disabled hidden>Język</option>\r\n                <option v-for=\"(language, index) in selectedContactCountryLanguages\" :key=\"index\" :value=\"language\">{{ language }}</option>\r\n            </select><br>\r\n            <input type=\"date\" ref=\"birthdate\" required><br>\r\n            <select ref=\"interests\">\r\n                <option value=\"\" selected disabled hidden>Zainteresowania</option>\r\n                <option value=\"sport\">Sport</option>\r\n                <option value=\"muzyka\">Muzyka</option>\r\n            </select><br>\r\n            <textarea ref=\"moreInfo\" placeholder=\"Więcej informacji\"></textarea><br>\r\n            <button type=\"submit\">Zarejestruj</button>\r\n        </form>\r\n</template>\r\n\r\n<style>\r\n        body {\r\n            font-family: Arial, sans-serif;\r\n            margin: 0;\r\n            padding: 0;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            height: 100vh;\r\n            background-color: #f0f0f0;\r\n        }\r\n\r\n        .container {\r\n            text-align: center;\r\n        }\r\n\r\n        input[type=\"text\"],\r\n        input[type=\"password\"],\r\n        select,\r\n        textarea,\r\n        button {\r\n            margin: 10px;\r\n            padding: 10px;\r\n            font-size: 16px;\r\n            border-radius: 5px;\r\n            border: 1px solid #ccc;\r\n            width: 300px;\r\n            max-width: 100%;\r\n        }\r\n\r\n        button {\r\n            cursor: pointer;\r\n            background-color: #007bff;\r\n            color: #fff;\r\n            border: none;\r\n        }\r\n\r\n        button:hover {\r\n            background-color: #0056b3;\r\n        }\r\n\r\n        .error-msg {\r\n            color: red;\r\n        }\r\n</style>\r\n\r\n<script setup>\r\nimport { firebaseApp } from '@/firebase';\r\nimport { createUserWithEmailAndPassword, getAuth } from 'firebase/auth';\r\nimport { doc, setDoc } from 'firebase/firestore';\r\nimport { ref } from 'vue';\r\n\r\nconst email = ref('');\r\nconst password = ref('');\r\nconst nickname = ref('');\r\nconst yourCountry = ref('');\r\nconst contactCountry = ref('');\r\nconst language = ref('');\r\nconst birthdate = ref('');\r\nconst interests = ref('');\r\nconst moreInfo = ref('');\r\nconst countries = ref([]);\r\nconst selectedContactCountryLanguages = ref([]);\r\n\r\nfunction register() {\r\n\r\n    const auth = getAuth(firebaseApp);\r\n    createUserWithEmailAndPassword(auth, email.value.value, password.value.value)\r\n    .then(({ user }) => {\r\n        const db = getFirestore(firebaseApp);\r\n        const docRef = doc(db, \"users\", user.uid);\r\n        const userData = {\r\n            birthdate: birthdate.value.value,\r\n            contactCountry: contactCountry.value.value,\r\n            country: yourCountry.value.value,\r\n            email: email.value.value,\r\n            interests: interests.value.value,\r\n            language: language.value.value,\r\n            moreInfo: moreInfo.value.value,\r\n            nickname: nickname.value.value\r\n        }\r\n        setDoc(docRef, userData);\r\n    })\r\n}\r\n\r\n\r\n</script>"],"mappings":"AA6EA,SAASA,WAAW,QAAQ,YAAY;AACxC,SAASC,8BAA8B,EAAEC,OAAO,QAAQ,eAAe;AACvE,SAASC,GAAG,EAAEC,MAAM,QAAQ,oBAAoB;AAChD,SAASC,GAAG,QAAQ,KAAK;;;;;;;IAEzB,MAAMC,KAAK,GAAGD,GAAG,CAAC,EAAE,CAAC;IACrB,MAAME,QAAQ,GAAGF,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMG,QAAQ,GAAGH,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMI,WAAW,GAAGJ,GAAG,CAAC,EAAE,CAAC;IAC3B,MAAMK,cAAc,GAAGL,GAAG,CAAC,EAAE,CAAC;IAC9B,MAAMM,QAAQ,GAAGN,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMO,SAAS,GAAGP,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMQ,SAAS,GAAGR,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMS,QAAQ,GAAGT,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMU,SAAS,GAAGV,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMW,+BAA+B,GAAGX,GAAG,CAAC,EAAE,CAAC;IAE/C,SAASY,QAAQA,CAAA,EAAG;MAEhB,MAAMC,IAAI,GAAGhB,OAAO,CAACF,WAAW,CAAC;MACjCC,8BAA8B,CAACiB,IAAI,EAAEZ,KAAK,CAACa,KAAK,CAACA,KAAK,EAAEZ,QAAQ,CAACY,KAAK,CAACA,KAAK,CAAC,CAC5EC,IAAI,CAAC,CAAC;QAAEC;MAAK,CAAC,KAAK;QAChB,MAAMC,EAAE,GAAGC,YAAY,CAACvB,WAAW,CAAC;QACpC,MAAMwB,MAAM,GAAGrB,GAAG,CAACmB,EAAE,EAAE,OAAO,EAAED,IAAI,CAACI,GAAG,CAAC;QACzC,MAAMC,QAAQ,GAAG;UACbd,SAAS,EAAEA,SAAS,CAACO,KAAK,CAACA,KAAK;UAChCT,cAAc,EAAEA,cAAc,CAACS,KAAK,CAACA,KAAK;UAC1CQ,OAAO,EAAElB,WAAW,CAACU,KAAK,CAACA,KAAK;UAChCb,KAAK,EAAEA,KAAK,CAACa,KAAK,CAACA,KAAK;UACxBN,SAAS,EAAEA,SAAS,CAACM,KAAK,CAACA,KAAK;UAChCR,QAAQ,EAAEA,QAAQ,CAACQ,KAAK,CAACA,KAAK;UAC9BL,QAAQ,EAAEA,QAAQ,CAACK,KAAK,CAACA,KAAK;UAC9BX,QAAQ,EAAEA,QAAQ,CAACW,KAAK,CAACA;QAC7B,CAAC;QACDf,MAAM,CAACoB,MAAM,EAAEE,QAAQ,CAAC;MAC5B,CAAC,CAAC;IACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}