{"ast":null,"code":"import { createElementVNode as _createElementVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"containerd\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createStaticVNode(\"<header>nickname</header><div class=\\\"content\\\"><span class=\\\"sentMessage\\\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span><div class=\\\"receivedMessage\\\">Received Message</div><span class=\\\"sentMessage\\\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span><div class=\\\"receivedMessage\\\">Received Message</div><span class=\\\"sentMessage\\\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span><div class=\\\"receivedMessage\\\">Received Message</div><span class=\\\"sentMessage\\\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span><div class=\\\"receivedMessage\\\">Received Message</div><span class=\\\"sentMessage\\\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span><div class=\\\"receivedMessage\\\">Received Message</div><span class=\\\"sentMessage\\\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span><div class=\\\"receivedMessage\\\">Received Message</div><span class=\\\"sentMessage\\\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span><div class=\\\"receivedMessage\\\">Received Message</div><span class=\\\"sentMessage\\\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span><div class=\\\"receivedMessage\\\">Received Message</div><span class=\\\"sentMessage\\\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span><div class=\\\"receivedMessage\\\">Received Message</div><span class=\\\"sentMessage\\\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span><div class=\\\"receivedMessage\\\">Received Message</div><span class=\\\"sentMessage\\\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span><div class=\\\"receivedMessage\\\">Received Message</div></div><footer>textbox</footer>\", 3);\nconst _hoisted_5 = [_hoisted_2];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [..._hoisted_5]);\n}","map":{"version":3,"names":["class","_createStaticVNode","_hoisted_2","_createElementBlock","_hoisted_1","_hoisted_5"],"sources":["D:\\UserData\\Desktop\\UEK\\PSM\\KKDP\\psm-project\\src\\components\\MessagesPage.vue"],"sourcesContent":["<template>\r\n    <div class=\"containerd\">\r\n        <header>nickname</header>\r\n        <div class=\"content\">\r\n            <span class=\"sentMessage\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span>\r\n            <div class=\"receivedMessage\">Received Message</div>\r\n            <span class=\"sentMessage\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span>\r\n            <div class=\"receivedMessage\">Received Message</div>\r\n            <span class=\"sentMessage\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span>\r\n            <div class=\"receivedMessage\">Received Message</div>\r\n            <span class=\"sentMessage\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span>\r\n            <div class=\"receivedMessage\">Received Message</div>\r\n            <span class=\"sentMessage\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span>\r\n            <div class=\"receivedMessage\">Received Message</div>\r\n            <span class=\"sentMessage\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span>\r\n            <div class=\"receivedMessage\">Received Message</div>\r\n            <span class=\"sentMessage\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span>\r\n            <div class=\"receivedMessage\">Received Message</div>\r\n            <span class=\"sentMessage\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span>\r\n            <div class=\"receivedMessage\">Received Message</div>\r\n            <span class=\"sentMessage\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span>\r\n            <div class=\"receivedMessage\">Received Message</div>\r\n            <span class=\"sentMessage\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span>\r\n            <div class=\"receivedMessage\">Received Message</div>\r\n            <span class=\"sentMessage\">My MessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMyMessageMy MessageMy MessageMy MessageMy MessageMy Message</span>\r\n            <div class=\"receivedMessage\">Received Message</div>\r\n\r\n        </div>\r\n        <footer>textbox</footer>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\n    .containerd {\r\n        display: flex;\r\n        flex-direction: column;\r\n        height: 100%;\r\n        width: 100%;\r\n    }\r\n\r\n    .containerd header, footer {\r\n        padding: 10px;\r\n    }\r\n    .containerd .content {\r\n        flex: 1 1 auto;\r\n        display: flex;\r\n        flex-direction: column-reverse;\r\n        overflow-y: auto;\r\n        min-height: 0px;\r\n    }\r\n\r\n    .sentMessage {\r\n        margin-left: 30%;\r\n        margin-right: 5px;\r\n        align-self: flex-end;\r\n        background-color: gray;\r\n    }\r\n\r\n    .sentMessage, .receivedMessage {\r\n        word-wrap: break-word;\r\n        text-align: left;\r\n        border-radius: 15px;\r\n        padding: 10px;\r\n        max-width: 70%;\r\n        margin-top: 5px;\r\n    }\r\n\r\n    .receivedMessage {\r\n        margin-right: 30%;\r\n        margin-left: 5px;\r\n        align-self: flex-start;\r\n        background-color:aqua;\r\n    }\r\n\r\n\r\n</style>\r\n\r\n<script setup>\r\n    import { useRoute } from 'vue-router';\r\n    import { onMounted } from 'vue';\r\n    import { firebaseApp } from '@/firebase';\r\nimport { and, collection, doc, getDoc, getDocs, or, orderBy, query, where } from 'firebase/firestore';\r\nimport { useAuthStore } from '@/stores/auth';\r\n    const route = useRoute();\r\n    const auth = useAuthStore();\r\n\r\n    let nickname = ref('');\r\n    let messages = ref([]);\r\n    onMounted(() => {\r\n        const db = getFirestore(firebaseApp)\r\n        const messagesColRef = collection(db, \"messages\");\r\n        const userDocRef = doc(db, \"users\", route.params.uid);\r\n\r\n        getDoc(userDocRef)\r\n        .then((snapshot) => {\r\n            if(snapshot.exists()) {\r\n                nickname.value.value = snapshot.data().nickname;\r\n            }\r\n        })\r\n\r\n        const q = query(messagesColRef, or(and(where('from', '==', auth.user.uid), where('to', '==', route.params.uid)), (where('to', '==', auth.user.uid), where('from', '==', route.params.uid))), orderBy('timestamp'));\r\n        getDocs(q)\r\n        .then((snapshot) => {\r\n            snapshot.forEach((doc) => {\r\n                let data = doc.data();\r\n                messages.value.push(data);\r\n            });\r\n            console.log(messages);\r\n        })\r\n    });\r\n\r\n</script>"],"mappings":";;EACSA,KAAK,EAAC;AAAY;gCAD3BC,kBAAA;oBAEQC,UAAyB,C;;uBAD7BC,mBAAA,CA4BM,OA5BNC,UA4BM,EA7BV,IAAAC,UAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}