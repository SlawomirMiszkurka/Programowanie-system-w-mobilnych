{"ast":null,"code":"export default {\n  data() {\n    return {\n      loginData: {\n        username: '',\n        password: ''\n      },\n      loggedInUser: null,\n      isLoggedIn: false,\n      loginError: ''\n    };\n  },\n  methods: {\n    login() {\n      const {\n        username,\n        password\n      } = this.loginData;\n      const db = firebase.database();\n      const usersRef = db.ref('users');\n      usersRef.once('value', snapshot => {\n        const usersData = snapshot.val();\n        if (usersData) {\n          const user = Object.values(usersData).find(u => u.username === username);\n          if (user) {\n            if (user.password === password) {\n              this.isLoggedIn = true;\n              this.loggedInUser = user;\n              window.location.href = 'main.html';\n            } else {\n              this.loginError = 'Błędny login lub hasło';\n            }\n          } else {\n            this.loginError = 'Błędny login lub hasło';\n          }\n        } else {\n          this.loginError = 'Baza danych użytkowników jest pusta';\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","loginData","username","password","loggedInUser","isLoggedIn","loginError","methods","login","db","firebase","database","usersRef","ref","once","snapshot","usersData","val","user","Object","values","find","u","window","location","href"],"sources":["D:\\UserData\\Desktop\\UEK\\PSM\\KKDP\\psm-project\\src\\components\\LoginPage.vue"],"sourcesContent":["<template>\r\n        <h1>Logowanie</h1>\r\n        <div v-if=\"!isLoggedIn\">\r\n            <input type=\"text\" v-model=\"loginData.username\" placeholder=\"Login\"><br>\r\n            <input type=\"password\" v-model=\"loginData.password\" placeholder=\"Hasło\"><br>\r\n            <button @click=\"login\">Zaloguj</button>\r\n            <p v-if=\"loginError\" style=\"color: red;\">{{ loginError }}</p>\r\n        </div>\r\n        <div v-else>\r\n            <p>Logowanie pomyślne. Przekierowywanie do strony głównej...</p>\r\n        </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n                return {\r\n                    loginData: {\r\n                        username: '',\r\n                        password: ''\r\n                    },\r\n                    loggedInUser: null,\r\n                    isLoggedIn: false,\r\n                    loginError: ''\r\n                };\r\n            },\r\n            methods: {\r\n                login() {\r\n                    const { username, password } = this.loginData;\r\n                    const db = firebase.database();\r\n                    const usersRef = db.ref('users');\r\n\r\n                    usersRef.once('value', (snapshot) => {\r\n                        const usersData = snapshot.val();\r\n                        if (usersData) {\r\n                            const user = Object.values(usersData).find(u => u.username === username);\r\n                            if (user) {\r\n                                if (user.password === password) {\r\n                                    this.isLoggedIn = true;\r\n                                    this.loggedInUser = user;\r\n                                    window.location.href = 'main.html';\r\n                                } else {\r\n                                    this.loginError = 'Błędny login lub hasło';\r\n                                }\r\n                            } else {\r\n                                this.loginError = 'Błędny login lub hasło';\r\n                            }\r\n                        } else {\r\n                            this.loginError = 'Baza danych użytkowników jest pusta';\r\n                        }\r\n                    });\r\n                },\r\n                \r\n            }\r\n    }\r\n</script>"],"mappings":"AAcI,eAAe;EACXA,IAAIA,CAAA,EAAG;IACC,OAAO;MACHC,SAAS,EAAE;QACPC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE;MACd,CAAC;MACDC,YAAY,EAAE,IAAI;MAClBC,UAAU,EAAE,KAAK;MACjBC,UAAU,EAAE;IAChB,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACLC,KAAKA,CAAA,EAAG;MACJ,MAAM;QAAEN,QAAQ;QAAEC;MAAS,IAAI,IAAI,CAACF,SAAS;MAC7C,MAAMQ,EAAC,GAAIC,QAAQ,CAACC,QAAQ,CAAC,CAAC;MAC9B,MAAMC,QAAO,GAAIH,EAAE,CAACI,GAAG,CAAC,OAAO,CAAC;MAEhCD,QAAQ,CAACE,IAAI,CAAC,OAAO,EAAGC,QAAQ,IAAK;QACjC,MAAMC,SAAQ,GAAID,QAAQ,CAACE,GAAG,CAAC,CAAC;QAChC,IAAID,SAAS,EAAE;UACX,MAAME,IAAG,GAAIC,MAAM,CAACC,MAAM,CAACJ,SAAS,CAAC,CAACK,IAAI,CAACC,CAAA,IAAKA,CAAC,CAACpB,QAAO,KAAMA,QAAQ,CAAC;UACxE,IAAIgB,IAAI,EAAE;YACN,IAAIA,IAAI,CAACf,QAAO,KAAMA,QAAQ,EAAE;cAC5B,IAAI,CAACE,UAAS,GAAI,IAAI;cACtB,IAAI,CAACD,YAAW,GAAIc,IAAI;cACxBK,MAAM,CAACC,QAAQ,CAACC,IAAG,GAAI,WAAW;YACtC,OAAO;cACH,IAAI,CAACnB,UAAS,GAAI,wBAAwB;YAC9C;UACJ,OAAO;YACH,IAAI,CAACA,UAAS,GAAI,wBAAwB;UAC9C;QACJ,OAAO;UACH,IAAI,CAACA,UAAS,GAAI,qCAAqC;QAC3D;MACJ,CAAC,CAAC;IACN;EAEJ;AACR","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}